<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®åº“å­—æ®µä¿®å¤éªŒè¯æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .test-section h2 {
            color: #34495e;
            margin-top: 0;
        }
        .test-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .test-button:hover {
            background-color: #2980b9;
        }
        .success {
            background-color: #27ae60;
        }
        .error {
            background-color: #e74c3c;
        }
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            background-color: #ecf0f1;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            color: white;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.success {
            background-color: #27ae60;
        }
        .status.error {
            background-color: #e74c3c;
        }
        .status.pending {
            background-color: #f39c12;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .field-mapping {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        .mapping-column {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ æ•°æ®åº“å­—æ®µä¿®å¤éªŒè¯æµ‹è¯•</h1>
        
        <!-- 1. æ•°æ®åº“è¿æ¥æµ‹è¯• -->
        <div class="test-section">
            <h2>1. æ•°æ®åº“è¿æ¥æµ‹è¯•</h2>
            <button class="test-button" onclick="testDatabaseConnection()">æµ‹è¯•æ•°æ®åº“è¿æ¥</button>
            <span id="db-status" class="status pending">å¾…æµ‹è¯•</span>
            <div id="db-result" class="result" style="display: none;"></div>
        </div>

        <!-- 2. å­—æ®µç»“æ„éªŒè¯ -->
        <div class="test-section">
            <h2>2. æ•°æ®åº“å­—æ®µç»“æ„éªŒè¯</h2>
            <button class="test-button" onclick="testFieldStructure()">éªŒè¯å­—æ®µç»“æ„</button>
            <span id="field-status" class="status pending">å¾…æµ‹è¯•</span>
            <div id="field-result" class="result" style="display: none;"></div>
        </div>

        <!-- 3. APIæ¥å£æµ‹è¯• -->
        <div class="test-section">
            <h2>3. é”€å”®è®°å½•APIæ¥å£æµ‹è¯•</h2>
            <button class="test-button" onclick="testSalesRecordsAPI()">æµ‹è¯•é”€å”®è®°å½•åˆ—è¡¨API</button>
            <button class="test-button" onclick="testSalesStatsAPI()">æµ‹è¯•é”€å”®ç»Ÿè®¡API</button>
            <button class="test-button" onclick="testCustomersAPI()">æµ‹è¯•å®¢æˆ·åˆ—è¡¨API</button>
            <button class="test-button" onclick="testProductsAPI()">æµ‹è¯•äº§å“åˆ—è¡¨API</button>
            <button class="test-button" onclick="testStaffAPI()">æµ‹è¯•é”€å”®äººå‘˜API</button>
            <span id="api-status" class="status pending">å¾…æµ‹è¯•</span>
            <div id="api-result" class="result" style="display: none;"></div>
        </div>

        <!-- 4. å­—æ®µæ˜ å°„éªŒè¯ -->
        <div class="test-section">
            <h2>4. å‰åç«¯å­—æ®µæ˜ å°„éªŒè¯</h2>
            <button class="test-button" onclick="testFieldMapping()">éªŒè¯å­—æ®µæ˜ å°„</button>
            <span id="mapping-status" class="status pending">å¾…æµ‹è¯•</span>
            
            <div class="field-mapping">
                <div class="mapping-column">
                    <h3>å‰ç«¯æœŸæœ›å­—æ®µ (camelCase)</h3>
                    <ul>
                        <li>customerName</li>
                        <li>customerPhone</li>
                        <li>productName</li>
                        <li>staffName</li>
                        <li>orderNumber</li>
                        <li>salesAmount</li>
                        <li>orderDate</li>
                        <li>paymentStatus</li>
                    </ul>
                </div>
                <div class="mapping-column">
                    <h3>æ•°æ®åº“å­—æ®µ (snake_case)</h3>
                    <ul>
                        <li>customer_name</li>
                        <li>phone (customersè¡¨)</li>
                        <li>product_name</li>
                        <li>staff_name</li>
                        <li>order_number</li>
                        <li>sales_amount</li>
                        <li>order_date</li>
                        <li>payment_status</li>
                    </ul>
                </div>
            </div>
            <div id="mapping-result" class="result" style="display: none;"></div>
        </div>

        <!-- 5. æ•°æ®å®Œæ•´æ€§æµ‹è¯• -->
        <div class="test-section">
            <h2>5. æ•°æ®å®Œæ•´æ€§æµ‹è¯•</h2>
            <button class="test-button" onclick="testDataIntegrity()">æµ‹è¯•æ•°æ®å®Œæ•´æ€§</button>
            <span id="integrity-status" class="status pending">å¾…æµ‹è¯•</span>
            <div id="integrity-result" class="result" style="display: none;"></div>
        </div>

        <!-- 6. åˆ›å»ºæµ‹è¯•é”€å”®è®°å½• -->
        <div class="test-section">
            <h2>6. åˆ›å»ºæµ‹è¯•é”€å”®è®°å½•</h2>
            <button class="test-button" onclick="createTestSalesRecord()">åˆ›å»ºæµ‹è¯•é”€å”®è®°å½•</button>
            <button class="test-button" onclick="clearTestData()">æ¸…ç†æµ‹è¯•æ•°æ®</button>
            <span id="create-status" class="status pending">å¾…æµ‹è¯•</span>
            <div id="create-result" class="result" style="display: none;"></div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8081/api';
        
        // å·¥å…·å‡½æ•°
        function updateStatus(elementId, status, text) {
            const element = document.getElementById(elementId);
            element.className = `status ${status}`;
            element.textContent = text;
        }
        
        function showResult(elementId, content) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.textContent = content;
        }
        
        async function makeRequest(url, options = {}) {
            try {
                const response = await fetch(url, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });
                
                const data = await response.json();
                return {
                    success: response.ok,
                    status: response.status,
                    data: data
                };
            } catch (error) {
                return {
                    success: false,
                    error: error.message
                };
            }
        }
        
        // 1. æµ‹è¯•æ•°æ®åº“è¿æ¥
        async function testDatabaseConnection() {
            updateStatus('db-status', 'pending', 'æµ‹è¯•ä¸­...');
            
            const result = await makeRequest(`${API_BASE}/sales/records?page=1&size=1`);
            
            if (result.success) {
                updateStatus('db-status', 'success', 'è¿æ¥æˆåŠŸ');
                showResult('db-result', `âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸\nå“åº”çŠ¶æ€: ${result.status}\nå“åº”æ—¶é—´: ${new Date().toLocaleTimeString()}`);
            } else {
                updateStatus('db-status', 'error', 'è¿æ¥å¤±è´¥');
                showResult('db-result', `âŒ æ•°æ®åº“è¿æ¥å¤±è´¥\né”™è¯¯ä¿¡æ¯: ${result.error || 'æœªçŸ¥é”™è¯¯'}`);
            }
        }
        
        // 2. æµ‹è¯•å­—æ®µç»“æ„
        async function testFieldStructure() {
            updateStatus('field-status', 'pending', 'éªŒè¯ä¸­...');
            
            const result = await makeRequest(`${API_BASE}/sales/records?page=1&size=1`);
            
            if (result.success && result.data && result.data.data) {
                const records = result.data.data.list || [];
                
                if (records.length > 0) {
                    const record = records[0];
                    const requiredFields = [
                        'id', 'orderNumber', 'customerName', 'customerPhone', 
                        'productName', 'staffName', 'salesAmount', 'orderDate'
                    ];
                    
                    const missingFields = requiredFields.filter(field => !(field in record));
                    const existingFields = Object.keys(record);
                    
                    if (missingFields.length === 0) {
                        updateStatus('field-status', 'success', 'å­—æ®µå®Œæ•´');
                        showResult('field-result', 
                            `âœ… æ‰€æœ‰å¿…éœ€å­—æ®µéƒ½å­˜åœ¨\n\nç°æœ‰å­—æ®µ:\n${existingFields.join(', ')}\n\nç¤ºä¾‹æ•°æ®:\n${JSON.stringify(record, null, 2)}`
                        );
                    } else {
                        updateStatus('field-status', 'error', 'å­—æ®µç¼ºå¤±');
                        showResult('field-result', 
                            `âŒ ç¼ºå°‘å­—æ®µ: ${missingFields.join(', ')}\n\nç°æœ‰å­—æ®µ:\n${existingFields.join(', ')}`
                        );
                    }
                } else {
                    updateStatus('field-status', 'success', 'æ— æ•°æ®');
                    showResult('field-result', 'âœ… APIå“åº”æ­£å¸¸ï¼Œä½†æš‚æ— é”€å”®è®°å½•æ•°æ®\nè¿™æ˜¯æ­£å¸¸çš„ç©ºçŠ¶æ€');
                }
            } else {
                updateStatus('field-status', 'error', 'éªŒè¯å¤±è´¥');
                showResult('field-result', `âŒ å­—æ®µç»“æ„éªŒè¯å¤±è´¥\né”™è¯¯: ${result.error || 'æ— æ³•è·å–æ•°æ®'}`);
            }
        }
        
        // 3. æµ‹è¯•é”€å”®è®°å½•API
        async function testSalesRecordsAPI() {
            updateStatus('api-status', 'pending', 'æµ‹è¯•ä¸­...');
            
            const result = await makeRequest(`${API_BASE}/sales/records`);
            
            if (result.success) {
                updateStatus('api-status', 'success', 'APIæ­£å¸¸');
                showResult('api-result', 
                    `âœ… é”€å”®è®°å½•APIæµ‹è¯•æˆåŠŸ\n\nå“åº”æ•°æ®:\n${JSON.stringify(result.data, null, 2)}`
                );
            } else {
                updateStatus('api-status', 'error', 'APIå¤±è´¥');
                showResult('api-result', `âŒ é”€å”®è®°å½•APIæµ‹è¯•å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // æµ‹è¯•é”€å”®ç»Ÿè®¡API
        async function testSalesStatsAPI() {
            const result = await makeRequest(`${API_BASE}/sales/stats`);
            
            if (result.success) {
                showResult('api-result', 
                    `âœ… é”€å”®ç»Ÿè®¡APIæµ‹è¯•æˆåŠŸ\n\nç»Ÿè®¡æ•°æ®:\n${JSON.stringify(result.data, null, 2)}`
                );
            } else {
                showResult('api-result', `âŒ é”€å”®ç»Ÿè®¡APIæµ‹è¯•å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // æµ‹è¯•å®¢æˆ·åˆ—è¡¨API
        async function testCustomersAPI() {
            const result = await makeRequest(`${API_BASE}/sales/customers`);
            
            if (result.success) {
                showResult('api-result', 
                    `âœ… å®¢æˆ·åˆ—è¡¨APIæµ‹è¯•æˆåŠŸ\n\nå®¢æˆ·æ•°æ®:\n${JSON.stringify(result.data, null, 2)}`
                );
            } else {
                showResult('api-result', `âŒ å®¢æˆ·åˆ—è¡¨APIæµ‹è¯•å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // æµ‹è¯•äº§å“åˆ—è¡¨API
        async function testProductsAPI() {
            const result = await makeRequest(`${API_BASE}/sales/products`);
            
            if (result.success) {
                showResult('api-result', 
                    `âœ… äº§å“åˆ—è¡¨APIæµ‹è¯•æˆåŠŸ\n\näº§å“æ•°æ®:\n${JSON.stringify(result.data, null, 2)}`
                );
            } else {
                showResult('api-result', `âŒ äº§å“åˆ—è¡¨APIæµ‹è¯•å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // æµ‹è¯•é”€å”®äººå‘˜API
        async function testStaffAPI() {
            const result = await makeRequest(`${API_BASE}/sales/staff`);
            
            if (result.success) {
                showResult('api-result', 
                    `âœ… é”€å”®äººå‘˜APIæµ‹è¯•æˆåŠŸ\n\näººå‘˜æ•°æ®:\n${JSON.stringify(result.data, null, 2)}`
                );
            } else {
                showResult('api-result', `âŒ é”€å”®äººå‘˜APIæµ‹è¯•å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // 4. æµ‹è¯•å­—æ®µæ˜ å°„
        async function testFieldMapping() {
            updateStatus('mapping-status', 'pending', 'éªŒè¯ä¸­...');
            
            const result = await makeRequest(`${API_BASE}/sales/records?page=1&size=1`);
            
            if (result.success && result.data && result.data.data) {
                const records = result.data.data.list || [];
                
                if (records.length > 0) {
                    const record = records[0];
                    
                    // æ£€æŸ¥å…³é”®å­—æ®µæ˜ å°„
                    const fieldMappings = [
                        { frontend: 'customerName', backend: 'customerName', required: true },
                        { frontend: 'customerPhone', backend: 'customerPhone', required: true },
                        { frontend: 'productName', backend: 'productName', required: true },
                        { frontend: 'staffName', backend: 'staffName', required: true },
                        { frontend: 'orderNumber', backend: 'orderNumber', required: true },
                        { frontend: 'salesAmount', backend: 'salesAmount', required: true }
                    ];
                    
                    const mappingResults = fieldMappings.map(mapping => {
                        const exists = mapping.backend in record;
                        return {
                            ...mapping,
                            exists,
                            value: exists ? record[mapping.backend] : null
                        };
                    });
                    
                    const missingMappings = mappingResults.filter(m => m.required && !m.exists);
                    
                    if (missingMappings.length === 0) {
                        updateStatus('mapping-status', 'success', 'æ˜ å°„æ­£ç¡®');
                        showResult('mapping-result', 
                            `âœ… å­—æ®µæ˜ å°„éªŒè¯æˆåŠŸ\n\nå­—æ®µæ˜ å°„è¯¦æƒ…:\n${mappingResults.map(m => 
                                `${m.frontend} -> ${m.backend}: ${m.exists ? 'âœ…' : 'âŒ'} ${m.exists ? `(${m.value})` : ''}`
                            ).join('\n')}`
                        );
                    } else {
                        updateStatus('mapping-status', 'error', 'æ˜ å°„é”™è¯¯');
                        showResult('mapping-result', 
                            `âŒ å­—æ®µæ˜ å°„éªŒè¯å¤±è´¥\n\nç¼ºå°‘å­—æ®µ:\n${missingMappings.map(m => m.frontend).join(', ')}`
                        );
                    }
                } else {
                    updateStatus('mapping-status', 'success', 'æ— æ•°æ®éªŒè¯');
                    showResult('mapping-result', 'âš ï¸ æš‚æ— é”€å”®è®°å½•æ•°æ®ï¼Œæ— æ³•éªŒè¯å­—æ®µæ˜ å°„\nå»ºè®®å…ˆåˆ›å»ºæµ‹è¯•æ•°æ®');
                }
            } else {
                updateStatus('mapping-status', 'error', 'éªŒè¯å¤±è´¥');
                showResult('mapping-result', `âŒ å­—æ®µæ˜ å°„éªŒè¯å¤±è´¥\né”™è¯¯: ${result.error}`);
            }
        }
        
        // 5. æµ‹è¯•æ•°æ®å®Œæ•´æ€§
        async function testDataIntegrity() {
            updateStatus('integrity-status', 'pending', 'æµ‹è¯•ä¸­...');
            
            try {
                // æµ‹è¯•å¤šä¸ªAPIçš„æ•°æ®å®Œæ•´æ€§
                const [recordsResult, customersResult, productsResult, staffResult] = await Promise.all([
                    makeRequest(`${API_BASE}/sales/records`),
                    makeRequest(`${API_BASE}/sales/customers`),
                    makeRequest(`${API_BASE}/sales/products`),
                    makeRequest(`${API_BASE}/sales/staff`)
                ]);
                
                const results = {
                    records: recordsResult.success,
                    customers: customersResult.success,
                    products: productsResult.success,
                    staff: staffResult.success
                };
                
                const successCount = Object.values(results).filter(Boolean).length;
                const totalCount = Object.keys(results).length;
                
                if (successCount === totalCount) {
                    updateStatus('integrity-status', 'success', 'æ•°æ®å®Œæ•´');
                    showResult('integrity-result', 
                        `âœ… æ•°æ®å®Œæ•´æ€§æµ‹è¯•é€šè¿‡ (${successCount}/${totalCount})\n\nè¯¦ç»†ç»“æœ:\n${Object.entries(results).map(([key, success]) => 
                            `${key}: ${success ? 'âœ…' : 'âŒ'}`
                        ).join('\n')}\n\nåŸºç¡€æ•°æ®ç»Ÿè®¡:\nå®¢æˆ·æ•°é‡: ${customersResult.data?.data?.length || 0}\näº§å“æ•°é‡: ${productsResult.data?.data?.length || 0}\né”€å”®äººå‘˜æ•°é‡: ${staffResult.data?.data?.length || 0}`
                    );
                } else {
                    updateStatus('integrity-status', 'error', 'æ•°æ®ä¸å®Œæ•´');
                    showResult('integrity-result', 
                        `âŒ æ•°æ®å®Œæ•´æ€§æµ‹è¯•å¤±è´¥ (${successCount}/${totalCount})\n\nè¯¦ç»†ç»“æœ:\n${Object.entries(results).map(([key, success]) => 
                            `${key}: ${success ? 'âœ…' : 'âŒ'}`
                        ).join('\n')}`
                    );
                }
            } catch (error) {
                updateStatus('integrity-status', 'error', 'æµ‹è¯•å¤±è´¥');
                showResult('integrity-result', `âŒ æ•°æ®å®Œæ•´æ€§æµ‹è¯•å¤±è´¥\né”™è¯¯: ${error.message}`);
            }
        }
        
        // 6. åˆ›å»ºæµ‹è¯•é”€å”®è®°å½•
        async function createTestSalesRecord() {
            updateStatus('create-status', 'pending', 'åˆ›å»ºä¸­...');
            
            // é¦–å…ˆè·å–å®¢æˆ·ã€äº§å“ã€é”€å”®äººå‘˜æ•°æ®
            const [customersResult, productsResult, staffResult] = await Promise.all([
                makeRequest(`${API_BASE}/sales/customers`),
                makeRequest(`${API_BASE}/sales/products`),
                makeRequest(`${API_BASE}/sales/staff`)
            ]);
            
            if (!customersResult.success || !productsResult.success || !staffResult.success) {
                updateStatus('create-status', 'error', 'è·å–åŸºç¡€æ•°æ®å¤±è´¥');
                showResult('create-result', 'âŒ æ— æ³•è·å–å®¢æˆ·ã€äº§å“æˆ–é”€å”®äººå‘˜æ•°æ®');
                return;
            }
            
            const customers = customersResult.data.data || [];
            const products = productsResult.data.data || [];
            const staff = staffResult.data.data || [];
            
            if (customers.length === 0 || products.length === 0 || staff.length === 0) {
                updateStatus('create-status', 'error', 'åŸºç¡€æ•°æ®ä¸è¶³');
                showResult('create-result', 'âŒ ç¼ºå°‘å¿…è¦çš„åŸºç¡€æ•°æ®ï¼ˆå®¢æˆ·ã€äº§å“æˆ–é”€å”®äººå‘˜ï¼‰');
                return;
            }
            
            // åˆ›å»ºæµ‹è¯•é”€å”®è®°å½•
            const testRecord = {
                orderNumber: `TEST${Date.now()}`,
                customerId: customers[0].id,
                productId: products[0].id,
                salesStaffId: staff[0].id,
                quantity: 1,
                unitPrice: products[0].unitPrice || 1000,
                salesAmount: products[0].unitPrice || 1000,
                discountAmount: 0,
                orderDate: new Date().toISOString().split('T')[0],
                status: 'pending',
                paymentStatus: 'unpaid',
                paymentMethod: 'é“¶è¡Œè½¬è´¦',
                region: 'æµ‹è¯•åœ°åŒº',
                channel: 'çº¿ä¸Š',
                notes: 'è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é”€å”®è®°å½•ï¼Œç”¨äºéªŒè¯æ•°æ®åº“å­—æ®µä¿®å¤'
            };
            
            const createResult = await makeRequest(`${API_BASE}/sales/records`, {
                method: 'POST',
                body: JSON.stringify(testRecord)
            });
            
            if (createResult.success) {
                updateStatus('create-status', 'success', 'åˆ›å»ºæˆåŠŸ');
                showResult('create-result', 
                    `âœ… æµ‹è¯•é”€å”®è®°å½•åˆ›å»ºæˆåŠŸ\n\nåˆ›å»ºçš„è®°å½•:\n${JSON.stringify(createResult.data, null, 2)}\n\nç°åœ¨å¯ä»¥æµ‹è¯•å‰ç«¯é¡µé¢æ˜¯å¦èƒ½æ­£ç¡®æ˜¾ç¤ºè¿™æ¡è®°å½•`
                );
            } else {
                updateStatus('create-status', 'error', 'åˆ›å»ºå¤±è´¥');
                showResult('create-result', `âŒ æµ‹è¯•é”€å”®è®°å½•åˆ›å»ºå¤±è´¥\né”™è¯¯: ${createResult.error}`);
            }
        }
        
        // æ¸…ç†æµ‹è¯•æ•°æ®
        async function clearTestData() {
            const result = await makeRequest(`${API_BASE}/sales/records`);
            
            if (result.success && result.data && result.data.data) {
                const records = result.data.data.list || [];
                const testRecords = records.filter(record => 
                    record.orderNumber && record.orderNumber.startsWith('TEST')
                );
                
                if (testRecords.length > 0) {
                    // åˆ é™¤æµ‹è¯•è®°å½•
                    const deletePromises = testRecords.map(record => 
                        makeRequest(`${API_BASE}/sales/records/${record.id}`, { method: 'DELETE' })
                    );
                    
                    const deleteResults = await Promise.all(deletePromises);
                    const successCount = deleteResults.filter(r => r.success).length;
                    
                    showResult('create-result', 
                        `ğŸ§¹ æ¸…ç†å®Œæˆ\nåˆ é™¤äº† ${successCount}/${testRecords.length} æ¡æµ‹è¯•è®°å½•`
                    );
                } else {
                    showResult('create-result', 'ğŸ§¹ æ²¡æœ‰æ‰¾åˆ°éœ€è¦æ¸…ç†çš„æµ‹è¯•è®°å½•');
                }
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•æ•°æ®åº“è¿æ¥
        window.onload = function() {
            console.log('æ•°æ®åº“å­—æ®µä¿®å¤éªŒè¯æµ‹è¯•é¡µé¢å·²åŠ è½½');
            // å¯ä»¥åœ¨è¿™é‡Œè‡ªåŠ¨æ‰§è¡Œä¸€äº›åŸºç¡€æµ‹è¯•
        };
    </script>
</body>
</html>