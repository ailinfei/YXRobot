import{x as K,az as Q,aA as $,c as g,r as C,h as G,al as x,y,z as o,A as e,Q as t,I as l,H as b,L as h,D as k,M as n,O as a,P as z,a6 as T,K as U}from"./vue-C2NPAEWw.js";import{m as W,g as X}from"./navigation-DIhIStAI.js";import{b as w}from"./element-plus-B_LfhBgj.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"device-route-validation"},ee={class:"validation-section"},se={class:"validation-results"},te={class:"result-item"},le={class:"result-item"},ae={class:"result-item"},ne={class:"result-item"},ie={class:"validation-section"},oe={class:"test-buttons"},ue={class:"validation-section"},de={class:"route-status"},re={class:"status-item"},ce={class:"status-item"},ve={class:"status-item"},me={class:"status-item"},pe={class:"validation-section"},_e={class:"breadcrumb-tests"},ge={class:"test-path"},fe={class:"breadcrumb-result"},Ce={key:0,class:"separator"},ye={class:"validation-section"},be={class:"permission-tests"},he={class:"permission-item"},ke={class:"permission-item"},Fe={class:"permission-item"},De={class:"validation-section"},Me={class:"summary-icon"},we={class:"summary-content"},Re=K({__name:"DeviceRouteValidation",setup(xe){const f=Q(),A=$(),F=g(()=>A),I=["/admin/device/management","/admin/device/monitoring","/admin/device/firmware"],_=C(["admin:all","device:view","device:manage","device:monitor","firmware:manage"]),c=C(!1),v=C(!1),m=C(!1),p=C(!1),B=g(()=>_.value.includes("device:manage")||_.value.includes("admin:all")),N=g(()=>_.value.includes("device:monitor")||_.value.includes("admin:all")),V=g(()=>_.value.includes("firmware:manage")||_.value.includes("admin:all")),D=g(()=>c.value&&v.value&&m.value&&p.value),L=g(()=>{if(D.value)return"设备管理路由配置完整，所有功能正常工作。可以正常访问 /admin/device/management 页面。";{const u=[];return c.value||u.push("路由配置"),v.value||u.push("组件加载"),m.value||u.push("导航菜单"),p.value||u.push("面包屑导航"),`发现问题：${u.join("、")}需要检查和修复。`}}),O=()=>{f.push("/admin/device/management"),w.success("跳转到设备管理页面")},S=()=>{f.push("/admin/device/monitoring"),w.success("跳转到设备监控页面")},j=()=>{f.push("/admin/device/firmware"),w.success("跳转到固件管理页面")},q=()=>{f.push("/admin/dashboard"),w.success("返回控制台")},R=u=>X(u,"admin"),H=()=>{const s=f.getRoutes().find(i=>i.path==="/admin/device/management"||i.name==="DeviceManagement");c.value=!!s,v.value=!!(s!=null&&s.component);const d=W.find(i=>i.path==="/admin/device");m.value=!!(d&&d.children&&d.children.some(i=>i.path==="/admin/device/management"));const r=R("/admin/device/management");p.value=r.length>0};return G(()=>{H()}),(u,s)=>{var P;const d=x("el-icon"),r=x("el-tag"),i=x("el-button");return o(),y("div",Z,[s[21]||(s[21]=e("div",{class:"validation-header"},[e("h2",null,"设备管理路由验证"),e("p",null,"验证设备管理页面的路由配置、导航菜单和面包屑功能是否正常工作")],-1)),e("div",ee,[s[4]||(s[4]=e("h3",null,"路由配置验证",-1)),e("div",se,[e("div",te,[t(d,{class:k(c.value?"success":"error")},{default:l(()=>[(o(),b(h(c.value?"CircleCheckFilled":"CircleCloseFilled")))]),_:1},8,["class"]),s[0]||(s[0]=e("span",null,"设备管理路由 (/admin/device/management): ",-1)),t(r,{type:c.value?"success":"danger"},{default:l(()=>[n(a(c.value?"已配置":"未配置"),1)]),_:1},8,["type"])]),e("div",le,[t(d,{class:k(v.value?"success":"error")},{default:l(()=>[(o(),b(h(v.value?"CircleCheckFilled":"CircleCloseFilled")))]),_:1},8,["class"]),s[1]||(s[1]=e("span",null,"DeviceManagement组件: ",-1)),t(r,{type:v.value?"success":"danger"},{default:l(()=>[n(a(v.value?"已加载":"未加载"),1)]),_:1},8,["type"])]),e("div",ae,[t(d,{class:k(m.value?"success":"error")},{default:l(()=>[(o(),b(h(m.value?"CircleCheckFilled":"CircleCloseFilled")))]),_:1},8,["class"]),s[2]||(s[2]=e("span",null,"导航菜单配置: ",-1)),t(r,{type:m.value?"success":"danger"},{default:l(()=>[n(a(m.value?"已配置":"未配置"),1)]),_:1},8,["type"])]),e("div",ne,[t(d,{class:k(p.value?"success":"error")},{default:l(()=>[(o(),b(h(p.value?"CircleCheckFilled":"CircleCloseFilled")))]),_:1},8,["class"]),s[3]||(s[3]=e("span",null,"面包屑导航配置: ",-1)),t(r,{type:p.value?"success":"danger"},{default:l(()=>[n(a(p.value?"已配置":"未配置"),1)]),_:1},8,["type"])])])]),e("div",ie,[s[9]||(s[9]=e("h3",null,"路由跳转测试",-1)),e("div",oe,[t(i,{type:"primary",onClick:O},{default:l(()=>s[5]||(s[5]=[n(" 测试设备管理页面跳转 ",-1)])),_:1,__:[5]}),t(i,{type:"success",onClick:S},{default:l(()=>s[6]||(s[6]=[n(" 测试设备监控页面跳转 ",-1)])),_:1,__:[6]}),t(i,{type:"warning",onClick:j},{default:l(()=>s[7]||(s[7]=[n(" 测试固件管理页面跳转 ",-1)])),_:1,__:[7]}),t(i,{onClick:q},{default:l(()=>s[8]||(s[8]=[n(" 返回控制台 ",-1)])),_:1,__:[8]})])]),e("div",ue,[s[14]||(s[14]=e("h3",null,"当前路由状态",-1)),e("div",de,[e("div",re,[s[10]||(s[10]=e("label",null,"当前路径:",-1)),e("code",null,a(F.value.path),1)]),e("div",ce,[s[11]||(s[11]=e("label",null,"路由名称:",-1)),e("code",null,a(F.value.name),1)]),e("div",ve,[s[12]||(s[12]=e("label",null,"页面标题:",-1)),e("code",null,a((P=F.value.meta)==null?void 0:P.title),1)]),e("div",me,[s[13]||(s[13]=e("label",null,"查询参数:",-1)),e("code",null,a(JSON.stringify(F.value.query)),1)])])]),e("div",pe,[s[15]||(s[15]=e("h3",null,"面包屑导航测试",-1)),e("div",_e,[(o(),y(z,null,T(I,M=>e("div",{key:M,class:"breadcrumb-test"},[e("div",ge,a(M),1),e("div",fe,[(o(!0),y(z,null,T(R(M),(J,E)=>(o(),y("span",{key:E,class:"breadcrumb-item"},[n(a(J.title)+" ",1),E<R(M).length-1?(o(),y("span",Ce,">")):U("",!0)]))),128))])])),64))])]),e("div",ye,[s[19]||(s[19]=e("h3",null,"权限验证测试",-1)),e("div",be,[e("div",he,[s[16]||(s[16]=e("label",null,"设备管理权限:",-1)),t(r,{type:B.value?"success":"danger"},{default:l(()=>[n(a(B.value?"有权限":"无权限"),1)]),_:1},8,["type"])]),e("div",ke,[s[17]||(s[17]=e("label",null,"设备监控权限:",-1)),t(r,{type:N.value?"success":"danger"},{default:l(()=>[n(a(N.value?"有权限":"无权限"),1)]),_:1},8,["type"])]),e("div",Fe,[s[18]||(s[18]=e("label",null,"固件管理权限:",-1)),t(r,{type:V.value?"success":"danger"},{default:l(()=>[n(a(V.value?"有权限":"无权限"),1)]),_:1},8,["type"])])])]),e("div",De,[s[20]||(s[20]=e("h3",null,"验证结果汇总",-1)),e("div",{class:k(["summary-card",D.value?"success":"error"])},[e("div",Me,[t(d,null,{default:l(()=>[(o(),b(h(D.value?"CircleCheckFilled":"CircleCloseFilled")))]),_:1})]),e("div",we,[e("h4",null,a(D.value?"所有测试通过":"存在配置问题"),1),e("p",null,a(L.value),1)])],2)])])}}}),Ee=Y(Re,[["__scopeId","data-v-4831d10d"]]);export{Ee as default};
