var g=Object.defineProperty;var u=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var l=(e,r,t)=>r in e?g(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,y=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&l(e,t,r[t]);if(u)for(var t of u(r))$.call(r,t)&&l(e,t,r[t]);return e};var a=(e,r,t)=>new Promise((w,d)=>{var O=o=>{try{s(t.next(o))}catch(h){d(h)}},n=o=>{try{s(t.throw(o))}catch(h){d(h)}},s=o=>o.done?w(o.value):Promise.resolve(o.value).then(O,n);s((t=t.apply(e,r)).next())});import{axiosInstance as i}from"./request-DpZIA5Wt.js";const c={getOrders(e){return a(this,null,function*(){try{return yield i.get("/api/admin/orders",{params:e})}catch(r){throw console.error("获取订单列表失败:",r),r}})},getOrder(e){return a(this,null,function*(){try{return yield i.get(`/api/admin/orders/${e}`)}catch(r){throw console.error(`获取订单详情失败 (ID: ${e}):`,r),r}})},createOrder(e){return a(this,null,function*(){try{return yield i.post("/api/admin/orders",e)}catch(r){throw console.error("创建订单失败:",r),r}})},updateOrder(e,r){return a(this,null,function*(){try{return yield i.put(`/api/admin/orders/${e}`,r)}catch(t){throw console.error(`更新订单失败 (ID: ${e}):`,t),t}})},deleteOrder(e){return a(this,null,function*(){try{return yield i.delete(`/api/admin/orders/${e}`)}catch(r){throw console.error(`删除订单失败 (ID: ${e}):`,r),r}})},getOrderStats(){return a(this,null,function*(){try{return yield i.get("/api/admin/orders/stats")}catch(e){throw console.error("获取订单统计失败:",e),e}})}};class I extends Error{constructor(r,t,w){super(r),this.code=t,this.details=w,this.name="OrderApiError"}}function p(e,r=3,t=1e3){return((...w)=>a(null,null,function*(){var O;let d;for(let n=0;n<=r;n++)try{return yield e(...w)}catch(s){if(d=s,n===r)throw new I(`API调用失败，已重试${r}次: ${d.message}`,(O=s==null?void 0:s.response)==null?void 0:O.status,s);yield new Promise(o=>setTimeout(o,t*(n+1))),console.warn(`API调用失败，正在进行第${n+1}次重试...`,s)}throw d}))}p(c.getOrders),p(c.getOrder),p(c.createOrder),p(c.updateOrder),p(c.deleteOrder),p(c.getOrderStats);y({},c);export{c as o};
