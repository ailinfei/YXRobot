var V=(w,f,n)=>new Promise((r,t)=>{var g=l=>{try{u(n.next(l))}catch(e){t(e)}},p=l=>{try{u(n.throw(l))}catch(e){t(e)}},u=l=>l.done?r(l.value):Promise.resolve(l.value).then(g,p);u((n=n.apply(w,f)).next())});import{x as L,az as R,r as y,X as B,al as i,y as M,z as N,A as s,Q as o,I as a,u as d,M as v,O as S,V as U}from"./vue-C2NPAEWw.js";import{e as q,d as E,m as I,u as k,l as A,b}from"./element-plus-B_LAMX2W.js";import{a as D}from"./authService-CnSN0M4T.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"login-page"},Q={class:"login-container"},T={class:"brand-section"},X={class:"brand-content"},j={class:"logo"},G={class:"logo-icon"},H={class:"features"},J={class:"feature-item"},K={class:"feature-item"},W={class:"feature-item"},Y={class:"login-section"},Z={class:"login-form-container"},$={class:"login-options"},ee=L({__name:"Login",setup(w){const f=R(),n=y(),r=y(!1),t=B({username:"",password:"",remember:!1}),g={username:[{required:!0,message:"请输入用户名或邮箱",trigger:"blur"},{min:3,message:"用户名至少3个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码至少6个字符",trigger:"blur"}]},p=()=>V(null,null,function*(){if(n.value)try{yield n.value.validate(),r.value=!0;const l=yield D.login({username:t.username,password:t.password,remember:t.remember});r.value=!1,l.success?(b.success(l.message),f.push("/admin/dashboard")):b.error(l.message)}catch(l){r.value=!1,console.log("表单验证失败:",l)}}),u=()=>{b.info("请联系系统管理员重置密码")};return(l,e)=>{const _=i("el-icon"),x=i("el-input"),c=i("el-form-item"),h=i("el-checkbox"),z=i("el-link"),C=i("el-button"),F=i("el-form");return N(),M("div",P,[s("div",Q,[s("div",T,[s("div",X,[s("div",j,[s("div",G,[o(_,null,{default:a(()=>[o(d(q))]),_:1})]),e[3]||(e[3]=s("span",{class:"logo-text"},"练字机器人",-1))]),e[7]||(e[7]=s("h1",{class:"brand-title"},"管理后台",-1)),e[8]||(e[8]=s("p",{class:"brand-subtitle"},"智能练字机器人管理系统",-1)),s("div",H,[s("div",J,[o(_,null,{default:a(()=>[o(d(E))]),_:1}),e[4]||(e[4]=s("span",null,"数据分析",-1))]),s("div",K,[o(_,null,{default:a(()=>[o(d(I))]),_:1}),e[5]||(e[5]=s("span",null,"设备监控",-1))]),s("div",W,[o(_,null,{default:a(()=>[o(d(k))]),_:1}),e[6]||(e[6]=s("span",null,"用户管理",-1))])])])]),s("div",Y,[s("div",Z,[e[11]||(e[11]=s("div",{class:"login-header"},[s("h2",null,"欢迎回来"),s("p",null,"请登录您的管理员账户")],-1)),o(F,{model:t,rules:g,ref_key:"loginFormRef",ref:n,class:"login-form",onSubmit:U(p,["prevent"])},{default:a(()=>[o(c,{prop:"username"},{default:a(()=>[o(x,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=m=>t.username=m),placeholder:"用户名或邮箱",size:"large","prefix-icon":d(k),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(c,{prop:"password"},{default:a(()=>[o(x,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=m=>t.password=m),type:"password",placeholder:"密码",size:"large","prefix-icon":d(A),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(c,null,{default:a(()=>[s("div",$,[o(h,{modelValue:t.remember,"onUpdate:modelValue":e[2]||(e[2]=m=>t.remember=m)},{default:a(()=>e[9]||(e[9]=[v("记住我",-1)])),_:1,__:[9]},8,["modelValue"]),o(z,{type:"primary",onClick:u},{default:a(()=>e[10]||(e[10]=[v("忘记密码？",-1)])),_:1,__:[10]})])]),_:1}),o(c,null,{default:a(()=>[o(C,{type:"primary",size:"large",class:"login-btn",loading:r.value,onClick:p},{default:a(()=>[v(S(r.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])])}}}),ne=O(ee,[["__scopeId","data-v-d80552a0"]]);export{ne as default};
