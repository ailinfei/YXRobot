import{x as O,az as Q,aA as S,c as D,r as b,h as j,al as P,y as i,z as t,A as e,Q as d,I as u,M as a,O as l,P as g,a6 as f,K as z,H as T,L as F}from"./vue-C2NPAEWw.js";import{m as q,h as G,g as J}from"./navigation-DIhIStAI.js";import{b as y}from"./element-plus-B_LfhBgj.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"device-route-test"},X={class:"test-section"},Y={class:"test-buttons"},Z={class:"test-section"},I={class:"route-info"},ee={class:"info-item"},se={class:"info-item"},te={class:"info-item"},ne={class:"test-section"},le={class:"breadcrumb-test"},oe={class:"breadcrumb-result"},ie={key:0,class:"separator"},ae={class:"test-section"},ue={class:"menu-test"},de={class:"menu-title"},re={key:0,class:"menu-children"},ce=["onClick"],ve={class:"test-section"},me={class:"permission-test"},_e={class:"permission-item"},pe={class:"permissions"},ge={class:"permission-item"},fe={class:"test-section"},be={class:"test-results"},ye={class:"result-item"},he={class:"result-item"},ke={class:"result-item"},Ce=O({__name:"DeviceRouteTest",setup(Me){const v=Q(),A=S(),h=D(()=>A),V=b(["admin:all","device:view","device:manage","device:monitor","firmware:manage"]),B=["/admin/device/management","/admin/device/monitoring","/admin/device/firmware"],m=D(()=>q.filter(o=>o.path==="/admin/device")),x=D(()=>{const o=m.value[0];return o?G(o,V.value):!1}),k=b(!1),C=b(!1),M=b(!1),E=()=>{v.push("/admin/device/management"),y.success("跳转到设备管理页面")},L=()=>{v.push("/admin/device/monitoring"),y.success("跳转到设备监控页面")},$=()=>{v.push("/admin/device/firmware"),y.success("跳转到固件管理页面")},H=o=>{v.push(o),y.success(`跳转到 ${o}`)},R=o=>J(o,"admin"),K=()=>{const s=v.getRoutes().filter(r=>r.path.includes("/admin/device"));k.value=s.length>=3,C.value=m.value.length>0&&m.value[0].children&&m.value[0].children.length>=3;const _=B.map(r=>R(r));M.value=_.every(r=>r.length>0)};return j(()=>{K()}),(o,s)=>{var N;const _=P("el-button"),r=P("el-icon"),p=P("el-tag");return t(),i("div",W,[s[17]||(s[17]=e("div",{class:"test-header"},[e("h2",null,"设备管理路由测试"),e("p",null,"测试设备管理页面的路由配置、导航菜单和面包屑功能")],-1)),e("div",X,[s[3]||(s[3]=e("h3",null,"路由跳转测试",-1)),e("div",Y,[d(_,{type:"primary",onClick:E},{default:u(()=>s[0]||(s[0]=[a(" 跳转到设备管理页面 ",-1)])),_:1,__:[0]}),d(_,{type:"success",onClick:L},{default:u(()=>s[1]||(s[1]=[a(" 跳转到设备监控页面 ",-1)])),_:1,__:[1]}),d(_,{type:"warning",onClick:$},{default:u(()=>s[2]||(s[2]=[a(" 跳转到固件管理页面 ",-1)])),_:1,__:[2]})])]),e("div",Z,[s[7]||(s[7]=e("h3",null,"当前路由信息",-1)),e("div",I,[e("div",ee,[s[4]||(s[4]=e("label",null,"当前路径:",-1)),e("span",null,l(h.value.path),1)]),e("div",se,[s[5]||(s[5]=e("label",null,"路由名称:",-1)),e("span",null,l(h.value.name),1)]),e("div",te,[s[6]||(s[6]=e("label",null,"页面标题:",-1)),e("span",null,l((N=h.value.meta)==null?void 0:N.title),1)])])]),e("div",ne,[s[8]||(s[8]=e("h3",null,"面包屑导航测试",-1)),e("div",le,[(t(),i(g,null,f(B,n=>e("div",{key:n,class:"breadcrumb-item"},[e("label",null,l(n)+":",1),e("div",oe,[(t(!0),i(g,null,f(R(n),(c,w)=>(t(),i("span",{key:w,class:"breadcrumb-segment"},[a(l(c.title)+" ",1),w<R(n).length-1?(t(),i("span",ie,">")):z("",!0)]))),128))])])),64))])]),e("div",ae,[s[9]||(s[9]=e("h3",null,"导航菜单测试",-1)),e("div",ue,[(t(!0),i(g,null,f(m.value,n=>(t(),i("div",{class:"menu-item",key:n.path},[e("div",de,[d(r,null,{default:u(()=>[(t(),T(F(n.icon)))]),_:2},1024),a(" "+l(n.title),1)]),n.children?(t(),i("div",re,[(t(!0),i(g,null,f(n.children,c=>(t(),i("div",{key:c.path,class:"menu-child",onClick:w=>H(c.path)},[d(r,null,{default:u(()=>[(t(),T(F(c.icon)))]),_:2},1024),a(" "+l(c.title),1)],8,ce))),128))])):z("",!0)]))),128))])]),e("div",ve,[s[12]||(s[12]=e("h3",null,"权限验证测试",-1)),e("div",me,[e("div",_e,[s[10]||(s[10]=e("label",null,"当前用户权限:",-1)),e("div",pe,[(t(!0),i(g,null,f(V.value,n=>(t(),T(p,{key:n,size:"small",type:"info"},{default:u(()=>[a(l(n),1)]),_:2},1024))),128))])]),e("div",ge,[s[11]||(s[11]=e("label",null,"设备管理权限检查:",-1)),d(p,{type:x.value?"success":"danger"},{default:u(()=>[a(l(x.value?"有权限":"无权限"),1)]),_:1},8,["type"])])])]),e("div",fe,[s[16]||(s[16]=e("h3",null,"测试结果",-1)),e("div",be,[e("div",ye,[s[13]||(s[13]=e("label",null,"路由配置:",-1)),d(p,{type:k.value?"success":"danger"},{default:u(()=>[a(l(k.value?"正常":"异常"),1)]),_:1},8,["type"])]),e("div",he,[s[14]||(s[14]=e("label",null,"导航菜单:",-1)),d(p,{type:C.value?"success":"danger"},{default:u(()=>[a(l(C.value?"正常":"异常"),1)]),_:1},8,["type"])]),e("div",ke,[s[15]||(s[15]=e("label",null,"面包屑导航:",-1)),d(p,{type:M.value?"success":"danger"},{default:u(()=>[a(l(M.value?"正常":"异常"),1)]),_:1},8,["type"])])])])])}}}),Te=U(Ce,[["__scopeId","data-v-1e8a28a0"]]);export{Te as default};
