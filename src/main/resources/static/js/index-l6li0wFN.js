const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/NewsManagement-BBt0xpeS.js","js/element-plus-B_LfhBgj.js","js/vue-C2NPAEWw.js","js/request-mSVS5ma3.js","js/utils-T70AYnHr.js","js/_plugin-vue_export-helper-DlAUqK2U.js","css/NewsManagement-BXDqElU2.css","js/Login-p7Xyuc24.js","js/authService-CnSN0M4T.js","css/Login-CLxKXt7e.css","js/AdminLayout-BjXFWQNG.js","css/AdminLayout-DWuJOgJ9.css","js/Dashboard-CiiwQLuV.js","js/CountUp-DhNxH7hh.js","css/CharityStatsCard-DxgyxwcW.css","js/charts-4xgvsrqt.js","js/customer-BN-WDpsP.js","js/order-C4knK3sJ.js","css/Dashboard-B9Z310De.css","css/SearchFilter-DumftH3_.css","css/DataTable-DuUuadFR.css","css/StatusTag-7W1y0CAS.css","css/ChartContainer-BsYzvC8Y.css","js/Products-C4-IfnYH.js","js/CommonDialog-DmvKEX1O.js","js/DataTable-BfvT2meh.js","js/StatusTag-C08vtP-K.js","js/product-B8ZysK1P.js","css/Products-C803PM4S.css","js/Charity-C3C_Kn5h.js","css/Charity-DPjNA8rg.css","js/Platforms-B1yYTc5F.js","js/config-Da9KhdDy.js","css/Platforms-BL2whHsh.css","js/Sales-CsjDRcit.js","css/Sales-BI3Ar2O2.css","js/RentalAnalytics-CahIUH7j.js","css/RentalAnalytics-BahZ3T0r.css","js/CustomerManagement-BkFv0YlM.js","js/customer-CyLpurj8.js","js/CustomerFormDialog-CVuYPCzG.js","css/CustomerFormDialog-CRiL_1TX.css","css/CustomerManagement-BSZCfoEo.css","js/CustomerDetail-3JHKM0D6.js","css/CustomerDetail-C5wU622Z.css","js/OrderManagement-D4D0QfO1.js","js/order-DqRMPNN_.js","css/OrderManagement-DXR9xltb.css","js/DeviceManagement-CJ87mhu5.js","css/DeviceManagement-XB0jylQ5.css","js/DeviceMonitoring-BXghzITW.js","css/DeviceMonitoring-Dmwr8Spv.css","js/FirmwareManagement-BiQ0jyST.js","css/FirmwareManagement-BtYOdE3g.css","js/CourseManagement-ioCLw4Pp.js","css/CourseManagement-Ca1ci3kT.css","js/FontPackageManagement-BVNi1aKB.js","css/FontPackageManagement-DdacZdLu.css","js/LanguageManagement-DBclwyjE.js","css/LanguageManagement-BfigaS3h.css","js/WebsiteLayout-Dc4xZotN.js","css/WebsiteLayout-Dg_KVvRV.css","js/Home-BWozqmxe.js","js/mockData-DA6OAQiK.js","css/Home-C0aT7Gni.css","js/Products-CeU4xqb6.js","js/website-D7ENwsz5.js","css/Products-DWo726Uj.css","js/Charity-B9mlPELF.js","css/Charity-CDO5AYH7.css","js/Support-CiG0oMEI.js","css/Support-SBUniCVD.css","js/Contact-BPqhjned.js","css/Contact-BfNik1fG.css","js/OrderTest-nZRp83IC.js","css/OrderTest-5HZCfOTI.css","js/SimpleOrderTest-rDKrCkUn.js","css/SimpleOrderTest-DgpBCGDV.css","js/ApiTest-CDlS3JPQ.js","css/ApiTest-smZyCGWT.css","js/OrderApiTest-9vVevseS.js","css/OrderApiTest-CDp_DwF6.css","js/RouteTest-CEOP9MX2.js","css/RouteTest-BNc4Du1P.css","js/RouteConfigTest-Ctrgvz4f.js","css/RouteConfigTest-BbLsvgyk.css","js/DeviceRouteTest-BFxjS5zM.js","js/navigation-DIhIStAI.js","css/DeviceRouteTest-vmaI2YUt.css","js/DeviceRouteValidation-Ct8aLlLy.js","css/DeviceRouteValidation-huBSRY3b.css"])))=>i.map(i=>d[i]);
var S=Object.defineProperty,O=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var v=(n,e,t)=>e in n?S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_=(n,e)=>{for(var t in e||(e={}))D.call(e,t)&&v(n,t,e[t]);if(b)for(var t of b(e))R.call(e,t)&&v(n,t,e[t]);return n},w=(n,e)=>O(n,A(e));var u=(n,e,t)=>v(n,typeof e!="symbol"?e+"":e,t);var E=(n,e,t)=>new Promise((r,o)=>{var i=p=>{try{c(t.next(p))}catch(m){o(m)}},l=p=>{try{c(t.throw(p))}catch(m){o(m)}},c=p=>p.done?r(p.value):Promise.resolve(p.value).then(i,l);c((t=t.apply(n,e)).next())});import{x as V,al as C,y as k,z as x,Q as z,ax as N,ay as q,au as B}from"./vue-C2NPAEWw.js";import{E as M,a as Q,i as $}from"./element-plus-B_LfhBgj.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const W={id:"app"},F=V({__name:"App",setup(n){return(e,t)=>{const r=C("router-view");return x(),k("div",W,[z(r)])}}}),H="modulepreload",J=function(n){return"/"+n},y={},s=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let l=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(t.map(m=>{if(m=J(m),m in y)return;y[m]=!0;const h=m.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":H,h||(d.as="script"),d.crossOrigin="",d.href=m,p&&d.setAttribute("nonce",p),document.head.appendChild(d),h)return new Promise((T,L)=>{d.addEventListener("load",T),d.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function a(n){return()=>{const e=M.service({lock:!0,text:"页面加载中...",background:"rgba(0, 0, 0, 0.7)"});return n().then(t=>(e.close(),t)).catch(t=>{throw e.close(),console.error("Route loading failed:",t),t})}}class U{constructor(){u(this,"preloadedComponents",new Set);u(this,"preloadQueue",[])}addPreloadTask(e,t,r=0){this.preloadedComponents.has(e)||(this.preloadQueue.push({name:e,loader:t,priority:r}),this.preloadQueue.sort((o,i)=>i.priority-o.priority))}executePreload(e=3){return E(this,null,function*(){const t=[];for(;this.preloadQueue.length>0||t.length>0;){for(;t.length<e&&this.preloadQueue.length>0;){const r=this.preloadQueue.shift(),o=this.preloadComponent(r.name,r.loader);t.push(o)}if(t.length>0){yield Promise.race(t);for(let r=t.length-1;r>=0;r--)(yield Promise.race([t[r],Promise.resolve("pending")]))!=="pending"&&t.splice(r,1)}}})}preloadComponent(e,t){return E(this,null,function*(){try{yield t(),this.preloadedComponents.add(e),console.log(`Component ${e} preloaded successfully`)}catch(r){console.warn(`Failed to preload component ${e}:`,r)}})}setupIntelligentPreloading(){if(document.addEventListener("mouseover",e=>{const r=e.target.closest("[data-preload]");if(r){const o=r.getAttribute("data-preload");o&&!this.preloadedComponents.has(o)&&setTimeout(()=>{this.triggerPreload(o)},100)}}),"IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(r=>{if(r.isIntersecting){const o=r.target.getAttribute("data-preload");o&&!this.preloadedComponents.has(o)&&this.triggerPreload(o)}})},{rootMargin:"50px"});document.querySelectorAll("[data-preload]").forEach(t=>{e.observe(t)})}}triggerPreload(e){console.log(`Triggering preload for component: ${e}`)}}const j=new U;function K(){j.setupIntelligentPreloading()}const G=[{path:"/admin/content/news",name:"ContentNews",component:a(()=>s(()=>import("./NewsManagement-BBt0xpeS.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),meta:{title:"新闻管理",requiresAuth:!0,permissions:["news:view"],breadcrumb:[{title:"控制台",path:"/admin/dashboard"},{title:"官网管理",path:"/admin/content"},{title:"新闻管理",path:"/admin/content/news"}]}}],X=(n,e,t)=>{var o;(((o=n.meta)==null?void 0:o.permissions)||[]).length>0,t()},P=N({history:q("/"),routes:[{path:"/",redirect:"/admin/dashboard"},{path:"/admin/login",name:"AdminLogin",component:a(()=>s(()=>import("./Login-p7Xyuc24.js"),__vite__mapDeps([7,2,1,8,5,9])))},{path:"/admin",component:a(()=>s(()=>import("./AdminLayout-BjXFWQNG.js"),__vite__mapDeps([10,2,1,8,5,11]))),meta:{requiresAuth:!0},children:[{path:"",redirect:"/admin/dashboard"},{path:"dashboard",name:"Dashboard",component:a(()=>s(()=>import("./Dashboard-CiiwQLuV.js"),__vite__mapDeps([12,1,2,13,5,14,15,16,17,18,19,20,21,22]))),meta:{title:"数据看板"}},{path:"content/products",name:"ContentProducts",component:a(()=>s(()=>import("./Products-C4-IfnYH.js"),__vite__mapDeps([23,1,2,24,5,20,25,26,21,15,27,3,4,28,19,14,22]))),meta:{title:"产品管理"}},{path:"content/charity",name:"ContentCharity",component:a(()=>s(()=>import("./Charity-C3C_Kn5h.js"),__vite__mapDeps([29,1,2,13,5,14,15,3,4,30]))),meta:{title:"公益项目管理"}},{path:"content/platforms",name:"ContentPlatforms",component:a(()=>s(()=>import("./Platforms-B1yYTc5F.js"),__vite__mapDeps([31,15,1,2,24,5,20,25,13,14,26,21,32,4,33,19,22]))),meta:{title:"平台链接管理"}},{path:"content/news",name:"ContentNews",component:a(()=>s(()=>import("./NewsManagement-BBt0xpeS.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),meta:{title:"新闻管理",requiresAuth:!0,permissions:["news:view"]}},{path:"business/sales",name:"BusinessSales",component:a(()=>s(()=>import("./Sales-CsjDRcit.js"),__vite__mapDeps([34,1,2,25,5,20,24,15,3,4,35,22]))),meta:{title:"销售数据"}},{path:"business/rental-analytics",name:"BusinessRental",component:a(()=>s(()=>import("./RentalAnalytics-CahIUH7j.js"),__vite__mapDeps([36,1,2,13,5,14,15,32,4,37,19,20,21,22]))),meta:{title:"租赁数据分析"}},{path:"business/customers",name:"BusinessCustomers",component:a(()=>s(()=>import("./CustomerManagement-BkFv0YlM.js"),__vite__mapDeps([38,1,2,39,3,4,40,5,41,42]))),meta:{title:"客户管理"}},{path:"business/customers/:id",name:"CustomerDetail",component:a(()=>s(()=>import("./CustomerDetail-3JHKM0D6.js"),__vite__mapDeps([43,2,1,40,39,3,4,5,41,44]))),meta:{title:"客户详情"}},{path:"business/orders",name:"OrderManagement",component:a(()=>s(()=>import("./OrderManagement-D4D0QfO1.js"),__vite__mapDeps([45,1,2,46,3,4,5,47]))),meta:{title:"订单管理",requiresAuth:!0,permissions:["business:order:manage","business:manage","admin:all"]}},{path:"device/management",name:"DeviceManagement",component:a(()=>s(()=>import("./DeviceManagement-CJ87mhu5.js"),__vite__mapDeps([48,1,2,3,4,5,49]))),meta:{title:"设备管理",requiresAuth:!0,permissions:["device:manage","device:view","admin:all"]}},{path:"device/monitoring",name:"DeviceMonitoring",component:a(()=>s(()=>import("./DeviceMonitoring-BXghzITW.js"),__vite__mapDeps([50,1,2,5,51]))),meta:{title:"设备监控",requiresAuth:!0,permissions:["device:monitor","device:view","admin:all"]}},{path:"device/firmware",name:"FirmwareManagement",component:a(()=>s(()=>import("./FirmwareManagement-BiQ0jyST.js"),__vite__mapDeps([52,1,2,5,15,53]))),meta:{title:"固件管理",requiresAuth:!0,permissions:["firmware:manage","device:manage","admin:all"]}},{path:"system/courses",name:"SystemCourses",component:a(()=>s(()=>import("./CourseManagement-ioCLw4Pp.js"),__vite__mapDeps([54,25,1,2,5,20,26,21,24,16,17,55]))),meta:{title:"课程管理"}},{path:"system/fonts",name:"SystemFonts",component:a(()=>s(()=>import("./FontPackageManagement-BVNi1aKB.js"),__vite__mapDeps([56,2,1,25,5,20,15,57,19,14,21,22]))),meta:{title:"AI字体包管理"}},{path:"system/languages",name:"SystemLanguages",component:a(()=>s(()=>import("./LanguageManagement-DBclwyjE.js"),__vite__mapDeps([58,1,2,5,59]))),meta:{title:"多语言管理"}}]},{path:"/website",component:a(()=>s(()=>import("./WebsiteLayout-Dc4xZotN.js"),__vite__mapDeps([60,2,1,5,61]))),children:[{path:"",redirect:"/website/home"},{path:"home",name:"Home",component:a(()=>s(()=>import("./Home-BWozqmxe.js"),__vite__mapDeps([62,1,2,63,5,64])))},{path:"products",name:"WebsiteProducts",component:a(()=>s(()=>import("./Products-CeU4xqb6.js"),__vite__mapDeps([65,2,1,63,66,3,4,5,67])))},{path:"charity",name:"Charity",component:a(()=>s(()=>import("./Charity-B9mlPELF.js"),__vite__mapDeps([68,1,2,63,5,69])))},...G.filter(n=>n.path.startsWith("/website/news")).map(n=>w(_({},n),{path:n.path.replace("/website/","")})),{path:"support",name:"Support",component:a(()=>s(()=>import("./Support-CiG0oMEI.js"),__vite__mapDeps([70,2,1,5,71])))},{path:"contact",name:"Contact",component:a(()=>s(()=>import("./Contact-BPqhjned.js"),__vite__mapDeps([72,2,1,5,73])))}]},{path:"/test",children:[{path:"orders",name:"OrderTest",component:a(()=>s(()=>import("./OrderTest-nZRp83IC.js"),__vite__mapDeps([74,1,2,17,46,3,4,39,27,5,75]))),meta:{title:"订单功能测试"}},{path:"simple-orders",name:"SimpleOrderTest",component:a(()=>s(()=>import("./SimpleOrderTest-rDKrCkUn.js"),__vite__mapDeps([76,1,2,5,77]))),meta:{title:"简单订单测试"}},{path:"api",name:"ApiTest",component:a(()=>s(()=>import("./ApiTest-CDlS3JPQ.js"),__vite__mapDeps([78,66,3,4,1,2,5,79]))),meta:{title:"API测试"}},{path:"order-api",name:"OrderApiTest",component:a(()=>s(()=>import("./OrderApiTest-9vVevseS.js"),__vite__mapDeps([80,46,3,4,1,2,5,81]))),meta:{title:"订单API测试"}},{path:"route",name:"RouteTest",component:a(()=>s(()=>import("./RouteTest-CEOP9MX2.js"),__vite__mapDeps([82,2,1,5,83]))),meta:{title:"路由测试"}},{path:"route",name:"RouteTest",component:a(()=>s(()=>import("./RouteTest-CEOP9MX2.js"),__vite__mapDeps([82,2,1,5,83]))),meta:{title:"路由配置测试"}},{path:"route-config",name:"RouteConfigTest",component:a(()=>s(()=>import("./RouteConfigTest-Ctrgvz4f.js"),__vite__mapDeps([84,2,1,5,85]))),meta:{title:"路由配置验证"}},{path:"device-route",name:"DeviceRouteTest",component:a(()=>s(()=>import("./DeviceRouteTest-BFxjS5zM.js"),__vite__mapDeps([86,2,87,1,5,88]))),meta:{title:"设备路由测试"}},{path:"device-route-validation",name:"DeviceRouteValidation",component:a(()=>s(()=>import("./DeviceRouteValidation-Ct8aLlLy.js"),__vite__mapDeps([89,2,87,1,5,90]))),meta:{title:"设备路由验证"}}]}]});P.beforeEach((n,e,t)=>{if(n.path.includes("/news")){let r=!1;if(X(n,e,i=>{r=!0,i?t(i):t()}),r)return}if(n.meta.requiresAuth){const r=localStorage.getItem("token"),o=localStorage.getItem("userInfo");if(!r||!o){console.log("用户未登录，跳转到登录页"),t("/admin/login");return}try{const i=JSON.parse(o);if(n.meta.permissions&&Array.isArray(n.meta.permissions)){if(!n.meta.permissions.some(c=>i.permissions&&i.permissions.includes(c))){console.warn("权限不足，跳转到登录页"),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),t("/admin/login");return}}else if(!i.permissions||!i.permissions.includes("admin:all")){console.warn("权限不足，跳转到登录页"),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),t("/admin/login");return}if(r==="mock-jwt-token")console.log("用户认证通过");else{console.warn("Token无效，跳转到登录页"),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),t("/admin/login");return}}catch(i){console.error("用户信息解析失败:",i),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),t("/admin/login");return}}if(n.path==="/admin/login"&&localStorage.getItem("token")){console.log("用户已登录，重定向到仪表板"),t("/admin/dashboard");return}n.meta.title?document.title=`${n.meta.title} - 练字机器人管理后台`:document.title="练字机器人管理后台",t()});class Y{constructor(){u(this,"metrics",{});u(this,"observers",[]);this.initializeObservers()}initializeObservers(){if("PerformanceObserver"in window){try{const e=new PerformanceObserver(t=>{const r=t.getEntries(),o=r[r.length-1];this.metrics.largestContentfulPaint=o.startTime});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e)}catch(e){console.warn("LCP observer not supported:",e)}try{const e=new PerformanceObserver(t=>{t.getEntries().forEach(o=>{this.metrics.firstInputDelay=o.processingStart-o.startTime})});e.observe({entryTypes:["first-input"]}),this.observers.push(e)}catch(e){console.warn("FID observer not supported:",e)}try{const e=new PerformanceObserver(t=>{let r=0;t.getEntries().forEach(i=>{i.hadRecentInput||(r+=i.value)}),this.metrics.cumulativeLayoutShift=r});e.observe({entryTypes:["layout-shift"]}),this.observers.push(e)}catch(e){console.warn("CLS observer not supported:",e)}}document.readyState==="complete"?this.collectBasicMetrics():window.addEventListener("load",()=>{this.collectBasicMetrics()})}collectBasicMetrics(){const e=performance.getEntriesByType("navigation")[0],t=performance.getEntriesByType("paint");e&&(this.metrics.loadTime=e.loadEventEnd-e.navigationStart,this.metrics.domContentLoaded=e.domContentLoadedEventEnd-e.navigationStart),t.forEach(r=>{r.name==="first-paint"?this.metrics.firstPaint=r.startTime:r.name==="first-contentful-paint"&&(this.metrics.firstContentfulPaint=r.startTime)})}getMetrics(){return _({},this.metrics)}mark(e){performance.mark(e)}measure(e,t,r){var i;r?performance.measure(e,t,r):performance.measure(e,t);const o=performance.getEntriesByName(e,"measure");return((i=o[o.length-1])==null?void 0:i.duration)||0}destroy(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}}class Z{constructor(e={}){u(this,"observer",null);u(this,"images",new Set);"IntersectionObserver"in window&&(this.observer=new IntersectionObserver(t=>{t.forEach(r=>{if(r.isIntersecting){const o=r.target;this.loadImage(o)}})},_({rootMargin:"50px"},e)))}observe(e){this.observer?(this.images.add(e),this.observer.observe(e)):this.loadImage(e)}unobserve(e){this.observer&&(this.observer.unobserve(e),this.images.delete(e))}loadImage(e){const t=e.dataset.src;t&&(e.src=t,e.removeAttribute("data-src"),this.observer&&(this.observer.unobserve(e),this.images.delete(e)))}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.images.clear()}}const I=new Y;new Z;function ee(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?I.mark("page-visible"):I.mark("page-hidden")}),window.addEventListener("beforeunload",()=>{const n=I.getMetrics();console.log("Performance metrics:",n)})}class te{constructor(e={}){u(this,"cache",new Map);u(this,"maxSize");u(this,"defaultTTL");u(this,"cleanupTimer",null);this.maxSize=e.maxSize||100,this.defaultTTL=e.defaultTTL||300*1e3,e.cleanupInterval!==0&&(this.cleanupTimer=setInterval(()=>{this.cleanup()},e.cleanupInterval||60*1e3))}set(e,t,r){this.cache.size>=this.maxSize&&this.evictLRU(),this.cache.set(e,{data:t,timestamp:Date.now(),ttl:r||this.defaultTTL,hits:0})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):(t.hits++,t.data):null}has(e){return this.get(e)!==null}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}getStats(){const e=Array.from(this.cache.values());return{size:this.cache.size,maxSize:this.maxSize,totalHits:e.reduce((t,r)=>t+r.hits,0),averageAge:e.length>0?e.reduce((t,r)=>t+(Date.now()-r.timestamp),0)/e.length:0}}cleanup(){const e=Date.now();for(const[t,r]of this.cache.entries())e-r.timestamp>r.ttl&&this.cache.delete(t)}evictLRU(){let e="",t=1/0,r=1/0;for(const[o,i]of this.cache.entries())(i.hits<t||i.hits===t&&i.timestamp<r)&&(e=o,t=i.hits,r=i.timestamp);e&&this.cache.delete(e)}destroy(){this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null),this.clear()}}class re{constructor(e="app_cache_"){u(this,"prefix");this.prefix=e}set(e,t,r){const o={data:t,timestamp:Date.now(),ttl:r||864e5};try{localStorage.setItem(this.prefix+e,JSON.stringify(o))}catch(i){console.warn("LocalStorage cache set failed:",i),this.cleanup();try{localStorage.setItem(this.prefix+e,JSON.stringify(o))}catch(l){console.error("LocalStorage cache set failed after cleanup:",l)}}}get(e){try{const t=localStorage.getItem(this.prefix+e);if(!t)return null;const r=JSON.parse(t);return Date.now()-r.timestamp>r.ttl?(this.delete(e),null):r.data}catch(t){return console.warn("LocalStorage cache get failed:",t),null}}delete(e){localStorage.removeItem(this.prefix+e)}cleanup(){const e=Date.now(),t=[];for(let r=0;r<localStorage.length;r++){const o=localStorage.key(r);if(o&&o.startsWith(this.prefix))try{const i=localStorage.getItem(o);if(i){const l=JSON.parse(i);e-l.timestamp>l.ttl&&t.push(o)}}catch(i){t.push(o)}}t.forEach(r=>localStorage.removeItem(r))}clear(){const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith(this.prefix)&&e.push(r)}e.forEach(t=>localStorage.removeItem(t))}}const oe=new te,ne=new re;function ie(){window.addEventListener("beforeunload",()=>{oe.destroy()}),setInterval(()=>{ne.cleanup()},3600*1e3)}const g=B(F);for(const[n,e]of Object.entries(Q))g.component(n,e);g.use(P);g.use($);ee();ie();g.mount("#app");K();export{s as _};
